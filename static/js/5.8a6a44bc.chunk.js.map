{"version":3,"sources":["components/common/FormControls/FormControls.jsx","components/common/FormControls/FormControls.module.css","utils/validators/validators.js","hoc/withAuthRedirect.js","components/Messages/Messages.module.css","components/Messages/Dialogs/Dialogs.module.css","components/Messages/Dialogs/Dialog/Dialogs.module.css","components/Messages/Chat/Chat.module.css","components/Messages/Chat/MessageIn/MessageIn.module.css","components/Messages/Chat/MessageOut/MessageOut.module.css","components/Messages/Chat/SendMessageForm/SendMessageForm.module.css","components/Messages/Dialogs/Dialog/Dialog.jsx","components/Messages/Dialogs/Dialogs.jsx","components/Messages/Chat/MessageIn/MessageIn.jsx","components/Messages/Chat/MessageOut/MessageOut.jsx","components/Messages/Chat/SendMessageForm/SendMessageForm.jsx","components/Messages/Chat/Chat.jsx","components/Messages/Messages.jsx","components/Messages/MessagesContainer.jsx"],"names":["FormControl","input","meta","touched","error","props","hasError","className","s","form_control","children","Input","restProps","Textarea","createField","component","name","placeholder","validators","text","validate","module","exports","required","value","maxLengthCreator","maxLength","length","minLengthCreator","minLength","mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","Dialog","path","id","c","dialog_wrap","avatar","src","activeClassName","active_dialog","dialog","Dialogs","dialogElement","dialogs","map","d","MessageIn","message_in","textIn","MessageOut","message_out","textOut","maxLength200","SendMessageForm","input_wrap","onSubmit","handleSubmit","Field","SendMessageReduxForm","reduxForm","form","Chat","messageInElement","messages","messagesIn","m","idIn","messageOutElement","messagesOut","idOut","chat","messages_wrapper","messagesIn_wrap","messagesOut_wrap","formData","addMessage","newMessageText","Messages","messages_wrap","MessagesContainer","compose"],"mappings":"yQAIMA,EAAc,SAAC,GAAgD,EAA9CC,MAA+C,IAAD,IAAvCC,KAAOC,EAAgC,EAAhCA,QAASC,EAAuB,EAAvBA,MAAWC,EAAY,gCAC7DC,EAAWH,GAAWC,EAC5B,OACE,sBAAKG,UAAWC,IAAEC,aAAe,KAAOH,EAAWE,IAAEJ,MAAQ,IAA7D,UACE,8BAAMC,EAAMK,WACXJ,GAAY,+BAAOF,QAKbO,EAAQ,SAACN,GAAW,IACvBJ,EAA8BI,EAA9BJ,MAAgBW,GAAcP,EAAvBH,KADe,YACQG,EADR,mBAE9B,OACE,cAACL,EAAD,2BAAiBK,GAAjB,aACE,iDAAWJ,GAAWW,QAKfC,EAAW,SAACR,GAAW,IAC1BJ,EAA8BI,EAA9BJ,MAAgBW,GAAcP,EAAvBH,KADkB,YACKG,EADL,mBAEjC,OACE,cAACL,EAAD,2BAAiBK,GAAjB,aACE,oDAAcJ,GAAWW,QAKlBE,EAAc,SACzBC,EACAC,EACAC,EACAC,GAJyB,IAKzBb,EALyB,uDAKjB,GACRc,EANyB,uDAMlB,GANkB,OAQzB,gCACE,cAAC,IAAD,aACEJ,UAAWA,EACXC,KAAMA,EACNC,YAAaA,EACbG,SAAUF,GACNb,IACH,IACFc,O,oBC/CLE,EAAOC,QAAU,CAAC,aAAe,mCAAmC,MAAQ,8B,iCCD5E,sGAAO,IAAMC,EAAW,SAAAC,GACpB,IAAIA,EACJ,MAAO,qBAGEC,EAAmB,SAACC,GAAD,OAAe,SAACF,GAC5C,GAAIA,GAASA,EAAMG,OAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,cAI9BE,EAAmB,SAACC,GAAD,OAAe,SAACL,GAC5C,GAAIA,GAASA,EAAMG,OAASE,EAAW,MAAM,iBAAN,OAAwBA,M,kHCP7DC,EAAkB,SAACC,GACrB,MAAO,CACHC,OAAQD,EAAME,KAAKD,SAeZE,IAXU,SAACC,GAAe,IAC/BC,EAD8B,uKAG5B,OAAKC,KAAKhC,MAAM2B,OACT,cAACG,EAAD,eAAeE,KAAKhC,QADI,cAAC,IAAD,CAAUiC,GAAG,eAHhB,GACJC,IAAMJ,WAOtC,OAAOK,YAAQV,EAARU,CAAyBJ,K,oBCjBpCf,EAAOC,QAAU,CAAC,cAAgB,kC,oBCAlCD,EAAOC,QAAU,CAAC,QAAU,2B,oBCA5BD,EAAOC,QAAU,CAAC,YAAc,6BAA6B,OAAS,wBAAwB,OAAS,wBAAwB,cAAgB,iC,oBCA/ID,EAAOC,QAAU,CAAC,KAAO,mBAAmB,iBAAmB,+BAA+B,gBAAkB,8BAA8B,iBAAmB,iC,oBCAjKD,EAAOC,QAAU,CAAC,WAAa,gC,oBCA/BD,EAAOC,QAAU,CAAC,YAAc,kC,oBCAhCD,EAAOC,QAAU,CAAC,WAAa,oCAAoC,aAAe,sCAAsC,SAAW,oC,uKCcpHmB,EAXA,SAACpC,GACZ,IAAMqC,EAAO,aAAerC,EAAMsC,GAClC,OACI,sBAAKpC,UAAWqC,IAAEC,YAAlB,UACI,qBAAKtC,UAAWqC,IAAEE,OAAQC,IAAK1C,EAAMyC,SACrC,cAAC,IAAD,CAASR,GAAII,EAAMM,gBAAiBJ,IAAEK,cAAe1C,UAAWqC,IAAEM,OAAlE,SAA2E7C,EAAMW,WCS9EmC,EAbC,SAAC9C,GAEb,IAAI+C,EAAgB/C,EAAMgD,QAAQC,KAAI,SAAAC,GAAC,OAAK,cAAC,EAAD,CAAQT,OAAQS,EAAET,OAAQ9B,KAAMuC,EAAEvC,KAAM2B,GAAIY,EAAEZ,QAE1F,OACI,qBAAKpC,UAAWqC,IAAES,QAAlB,SAEKD,K,oCCFEI,EAPG,SAACnD,GACf,OACQ,qBAAKE,UAAWqC,IAAEa,WAAlB,SAA+BpD,EAAMqD,U,kBCIlCC,EANI,SAACtD,GAChB,OACI,qBAAKE,UAAWqC,IAAEgB,YAAlB,SAAgCvD,EAAMwD,W,sDCCxCC,EAAerC,YAAiB,KAmBvBsC,EAjBS,SAAC1D,GACrB,OACI,qBAAKE,UAAWqC,IAAEoB,WAAlB,SACI,uBAAMC,SAAU5D,EAAM6D,aAAtB,UACI,8BACI,cAACC,EAAA,EAAD,CAAOpD,UAAWF,IAAUG,KAAM,iBAC3BC,YAAa,wBAAyBG,SAAU,CAACG,IAAUuC,OAEtE,8BACI,wBAAQvD,UAAW,aAAnB,0BCVd6D,EAAuBC,YAAU,CAACC,KAAM,mBAAjBD,CAAqCN,GA8BnDQ,EA5BF,SAAClE,GAEV,IAAImE,EAAmBnE,EAAMoE,SAASC,WAAWpB,KAAI,SAAAqB,GAAC,OAAK,cAAC,EAAD,CAAWC,KAAMD,EAAEC,KAAMlB,OAAQiB,EAAEjB,YAE1FmB,EAAoBxE,EAAMoE,SAASK,YAAYxB,KAAI,SAAAqB,GAAC,OAAK,cAAC,EAAD,CAAYI,MAAOJ,EAAEI,MAAOlB,QAASc,EAAEd,aAMpG,OACI,sBAAKtD,UAAWqC,IAAEoC,KAAlB,UAEI,sBAAKzE,UAAWqC,IAAEqC,iBAAlB,UACI,qBAAK1E,UAAWqC,IAAEsC,gBAAlB,SACKV,IAGL,qBAAKjE,UAAWqC,IAAEuC,iBAAlB,SACKN,OAGT,cAACT,EAAD,CAAsBH,SAhBV,SAACmB,GACjB/E,EAAMgF,WAAWD,EAASE,uBCCnBC,EAZE,SAAClF,GAEd,OACI,sBAAKE,UAAWqC,IAAE4C,cAAlB,UACI,cAAC,EAAD,CAASnC,QAAShD,EAAMoE,SAASpB,UACjC,cAAC,EAAD,CAAMoB,SAAUpE,EAAMoE,SAAUY,WAAYhF,EAAMgF,iB,iCCHxDI,E,uKAEE,OAAO,cAAC,EAAD,eAAcpD,KAAKhC,Y,GAFFkC,IAAMJ,WAYvBuD,sBACXlD,aAPoB,SAACT,GACrB,MAAO,CACH0C,SAAU1C,EAAM0C,YAKK,CAACY,iBAC1BnD,IAFWwD,CAGbD","file":"static/js/5.8a6a44bc.chunk.js","sourcesContent":["import React from \"react\";\r\nimport s from \"./FormControls.module.css\";\r\nimport { Field } from \"redux-form\";\r\n\r\nconst FormControl = ({ input, meta: {touched, error}, ...props }) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={s.form_control + \" \" + (hasError ? s.error : \"\")}>\r\n      <div>{props.children}</div>\r\n      {hasError && <span>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const createField = (\r\n  component,\r\n  name,\r\n  placeholder,\r\n  validators,\r\n  props = {},\r\n  text = \"\"\r\n) => (\r\n  <div>\r\n    <Field\r\n      component={component}\r\n      name={name}\r\n      placeholder={placeholder}\r\n      validate={validators}\r\n      {...props}\r\n    />{\" \"}\r\n    {text}\r\n  </div>\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_control\":\"FormControls_form_control__3mBCI\",\"error\":\"FormControls_error__1gX1z\"};","export const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => (value) => {\r\n    if (value && value.length < minLength) return `Min length is ${minLength}`;\r\n    return undefined;\r\n}","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nconst withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps)(RedirectComponent);\r\n}\r\n\r\nexport default withAuthRedirect;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages_wrap\":\"Messages_messages_wrap__32wN0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3_LgZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog_wrap\":\"Dialogs_dialog_wrap__AbHOq\",\"avatar\":\"Dialogs_avatar__TLBs0\",\"dialog\":\"Dialogs_dialog__2vE1M\",\"active_dialog\":\"Dialogs_active_dialog__1ygfF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"Chat_chat__1JNU0\",\"messages_wrapper\":\"Chat_messages_wrapper__2ptKw\",\"messagesIn_wrap\":\"Chat_messagesIn_wrap__1iWeo\",\"messagesOut_wrap\":\"Chat_messagesOut_wrap__27say\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message_in\":\"MessageIn_message_in__3tLKW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message_out\":\"MessageOut_message_out__3y9qU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input_wrap\":\"SendMessageForm_input_wrap__3W1-b\",\"message_form\":\"SendMessageForm_message_form__JdD2k\",\"send_btn\":\"SendMessageForm_send_btn__2OoeJ\"};","import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport c from './Dialogs.module.css';\r\n\r\nconst Dialog = (props) => {\r\n    const path = '/messages/' + props.id;\r\n    return (\r\n        <div className={c.dialog_wrap}>\r\n            <img className={c.avatar} src={props.avatar}/>\r\n            <NavLink to={path} activeClassName={c.active_dialog} className={c.dialog}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Dialog;","import React from 'react';\r\nimport c from './Dialogs.module.css'\r\nimport Dialog from \"./Dialog/Dialog\";\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let dialogElement = props.dialogs.map(d => (<Dialog avatar={d.avatar} name={d.name} id={d.id}/>))\r\n\r\n    return (\r\n        <div className={c.dialogs}>\r\n\r\n            {dialogElement}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport c from './MessageIn.module.css'\r\n\r\nconst MessageIn = (props) => {\r\n    return (\r\n            <div className={c.message_in}>{props.textIn}</div>\r\n    )\r\n\r\n}\r\n\r\nexport default MessageIn;","import React from 'react';\r\nimport c from './MessageOut.module.css';\r\n\r\nconst MessageOut = (props) => {\r\n    return (\r\n        <div className={c.message_out}>{props.textOut}</div>\r\n    )\r\n}\r\n\r\nexport default MessageOut;","import React from 'react';\r\nimport c from './SendMessageForm.module.css'\r\nimport {Field} from \"redux-form\";\r\nimport {Textarea} from \"../../../common/FormControls/FormControls\";\r\nimport {maxLengthCreator, required} from \"../../../../utils/validators/validators\";\r\n\r\nconst maxLength200 = maxLengthCreator(200);\r\n\r\nconst SendMessageForm = (props) => {\r\n    return (\r\n        <div className={c.input_wrap}>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <Field component={Textarea} name={'newMessageText'}\r\n                           placeholder={'Enter your message...'} validate={[required, maxLength200]}/>\r\n                </div>\r\n                <div>\r\n                    <button className={'c.send_btn'}>Send</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default SendMessageForm;","import React from 'react';\r\nimport c from './Chat.module.css'\r\nimport MessageIn from \"./MessageIn/MessageIn\";\r\nimport MessageOut from \"./MessageOut/MessageOut\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport SendMessageForm from \"./SendMessageForm/SendMessageForm\";\r\n\r\nconst SendMessageReduxForm = reduxForm({form: 'sendMessageForm'})(SendMessageForm)\r\n\r\nconst Chat = (props) => {\r\n\r\n    let messageInElement = props.messages.messagesIn.map(m => (<MessageIn idIn={m.idIn} textIn={m.textIn}/>))\r\n\r\n    let messageOutElement = props.messages.messagesOut.map(m => (<MessageOut idOut={m.idOut} textOut={m.textOut}/>));\r\n\r\n    let onSendMessage = (formData) => {\r\n        props.addMessage(formData.newMessageText);\r\n    }\r\n\r\n    return (\r\n        <div className={c.chat}>\r\n\r\n            <div className={c.messages_wrapper}>\r\n                <div className={c.messagesIn_wrap}>\r\n                    {messageInElement}\r\n                </div>\r\n\r\n                <div className={c.messagesOut_wrap}>\r\n                    {messageOutElement}\r\n                </div>\r\n            </div>\r\n            <SendMessageReduxForm onSubmit={onSendMessage}/>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Chat;","import React from 'react';\r\nimport c from './Messages.module.css';\r\nimport Dialogs from \"./Dialogs/Dialogs\";\r\nimport Chat from \"./Chat/Chat\";\r\n\r\nconst Messages = (props) => {\r\n\r\n    return (\r\n        <div className={c.messages_wrap}>\r\n            <Dialogs dialogs={props.messages.dialogs}/>\r\n            <Chat messages={props.messages} addMessage={props.addMessage}/>\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Messages;","import React from 'react';\r\nimport Messages from \"./Messages\";\r\nimport {addMessage} from \"../../redux/messagesReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass MessagesContainer extends React.Component {\r\n    render() {\r\n        return <Messages {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        messages: state.messages,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {addMessage}),\r\n    withAuthRedirect\r\n)(MessagesContainer);"],"sourceRoot":""}